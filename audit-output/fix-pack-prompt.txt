# TD Realty Ohio - Fix Pack Prompt
# Generated: 2026-01-24
# Execute fixes in this order to minimize risk and maximize impact

## Pre-Fix Verification Checklist
Before making any changes:
1. [ ] Confirm current git branch is feature branch, not main
2. [ ] Run `git status` to confirm clean working tree
3. [ ] Create backup: `git stash` or commit current state
4. [ ] Verify Google Search Console access for post-change monitoring
5. [ ] Verify Google Ads access for conversion tracking setup
6. [ ] Note current Lighthouse scores for key pages

---

## PHASE 1: SAFE FIXES (No GSC/Ads Impact)
These fixes can be deployed immediately with no indexing or ads risk.

### Fix 1.1: Add Phone Call Conversion Tracking
**Files:** `assets/js/main.js`
**Risk:** SAFE
**Implementation:**
Add after DOMContentLoaded initializations:

```javascript
// Phone click conversion tracking
document.querySelectorAll('a[href^="tel:"]').forEach(link => {
  link.addEventListener('click', () => {
    if (typeof gtag === 'function') {
      gtag('event', 'conversion', {
        'send_to': 'AW-17866418952/PHONE_CONVERSION_LABEL',
        'event_callback': function() { console.log('Phone conversion tracked'); }
      });
    }
  });
});
```
**Note:** Replace PHONE_CONVERSION_LABEL with actual label from Google Ads.

### Fix 1.2: Add Form Submission Conversion Tracking
**Files:** `assets/js/main.js`
**Risk:** SAFE
**Implementation:**
In initFormHandler function, after `if (response.ok) {` block (around line 352), add:

```javascript
// Track form conversion
if (typeof gtag === 'function') {
  gtag('event', 'conversion', {
    'send_to': 'AW-17866418952/FORM_CONVERSION_LABEL'
  });
}
```
**Note:** Replace FORM_CONVERSION_LABEL with actual label from Google Ads.

### Fix 1.3: Add ARIA Tabpanel Roles to Areas Page
**Files:** `areas/index.html`
**Risk:** SAFE
**Implementation:**
Add `role="tabpanel"` to each `.community-content` div:
```html
<div class="community-content active" id="columbus" role="tabpanel" aria-labelledby="tab-columbus">
```
Repeat for all 18 community content divs.

### Fix 1.4: Add novalidate to Forms
**Files:** `contact.html`, `home-value.html`, `agents.html`, `referrals.html`
**Risk:** SAFE
**Implementation:**
Add `novalidate` attribute to each form element:
```html
<form id="contact-form" ... novalidate>
```

---

## PHASE 2: SAFE-WITH-STEPS FIXES (Requires Verification)
These fixes affect SEO signals and require careful execution.

### Fix 2.1: Normalize Canonical URLs and Sitemap
**Files:** All HTML files with canonical tags, `sitemap.xml`
**Risk:** SAFE-WITH-STEPS
**Guardrails:**
- [ ] Verify server serves .html files at /path/ URLs
- [ ] Confirm 301 redirects from .html to /path/ work
- [ ] All sitemap URLs must return 200

**Step 2.1.1: Update Canonical Tags**
Update all canonical tags from:
```html
<link rel="canonical" href="https://tdrealtyohio.com/sellers.html">
```
To:
```html
<link rel="canonical" href="https://tdrealtyohio.com/sellers/">
```

Files to update:
- sellers.html: Line 11
- buyers.html: Line 11
- contact.html: Line 11
- referrals.html: Line 11
- agents.html: Line 10
- home-value.html: Line 11
- affordability.html: Line 11
- pre-listing-inspection.html: Line 11
- about.html: Check and update
- 1-percent-commission.html: Check and update
- privacy.html: Check and update
- terms.html: Check and update
- fair-housing.html: Check and update
- sitemap-page.html: Check and update

**Step 2.1.2: Update Sitemap**
Update sitemap.xml to use /path/ format:
```xml
<loc>https://tdrealtyohio.com/sellers/</loc>
```

**Step 2.1.3: Verify Redirects**
Test each URL to confirm:
- https://tdrealtyohio.com/sellers.html -> 301 -> https://tdrealtyohio.com/sellers/
- Final URL returns 200

**Step 2.1.4: Submit Updated Sitemap**
1. Login to Google Search Console
2. Navigate to Sitemaps
3. Submit updated sitemap.xml
4. Monitor coverage for 2 weeks

---

## PHASE 3: OPTIMIZATION FIXES (Enhancement)
These improve performance but are not critical.

### Fix 3.1: Create/Verify manifest.json
**Files:** `/manifest.json`
**Risk:** SAFE
**Implementation:**
Create manifest.json in root:
```json
{
  "name": "TD Realty Ohio",
  "short_name": "TD Realty",
  "description": "Low commission real estate in Central Ohio",
  "start_url": "/",
  "display": "standalone",
  "theme_color": "#1a2e44",
  "background_color": "#ffffff",
  "icons": [
    {
      "src": "/icon-192.svg",
      "sizes": "192x192",
      "type": "image/svg+xml"
    },
    {
      "src": "/icon-512.svg",
      "sizes": "512x512",
      "type": "image/svg+xml"
    }
  ]
}
```

### Fix 3.2: Add Preconnect Hints
**Files:** All HTML files
**Risk:** SAFE
**Implementation:**
Add to head section (after existing preconnects):
```html
<link rel="preconnect" href="https://www.googletagmanager.com">
<link rel="preconnect" href="https://formspree.io">
```

### Fix 3.3: Consolidate FAQPage Schemas on Buyers Page
**Files:** `buyers.html`
**Risk:** SAFE
**Implementation:**
Merge the two FAQPage schema blocks into one. Combine all mainEntity questions.

---

## POST-FIX VERIFICATION CHECKLIST

### Immediate (Within 1 Hour)
- [ ] All pages load without console errors
- [ ] Mobile menu opens/closes correctly
- [ ] Calculator sliders work and update values
- [ ] Forms submit successfully
- [ ] Phone links work
- [ ] Google Tag Assistant shows no errors

### Short-Term (Within 24 Hours)
- [ ] Submit updated sitemap to GSC
- [ ] Verify conversions tracking in Google Ads
- [ ] Check GA4 Real-time for events
- [ ] Run Lighthouse on key pages
- [ ] Test with Facebook/Twitter debuggers

### Medium-Term (Within 2 Weeks)
- [ ] Monitor GSC Coverage report
- [ ] Check for crawl errors
- [ ] Verify indexed pages match sitemap
- [ ] Monitor Google Ads conversion data
- [ ] Review GA4 event data

---

## ROLLBACK PROCEDURES

### If Issues Arise:
1. Revert to previous git commit: `git revert HEAD`
2. Push reverted changes
3. Notify GSC of sitemap update if needed
4. Document what went wrong

### File-Specific Rollbacks:
- **assets/js/main.js**: `git checkout HEAD~1 -- assets/js/main.js`
- **sitemap.xml**: `git checkout HEAD~1 -- sitemap.xml`
- **Any HTML file**: `git checkout HEAD~1 -- [filename]`

---

## EXECUTION ORDER SUMMARY

1. **Phase 1 (SAFE)**: Phone tracking, form tracking, ARIA, novalidate
2. **Phase 2 (SAFE-WITH-STEPS)**: Canonicals, sitemap
3. **Phase 3 (OPTIMIZATION)**: manifest.json, preconnects, schema consolidation

Execute phases in order. Deploy after each phase and verify before proceeding.
