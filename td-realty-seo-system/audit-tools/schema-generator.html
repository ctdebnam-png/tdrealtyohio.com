<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Schema Markup Generator - TD Realty SEO System</title>
  <link rel="stylesheet" href="../css/styles.css">
  <style>
    .code-output {
      background: #1e1e1e;
      color: #d4d4d4;
      padding: 1rem;
      border-radius: var(--radius-md);
      overflow-x: auto;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 0.875rem;
      white-space: pre-wrap;
      max-height: 500px;
      overflow-y: auto;
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="header-content">
      <a href="../index.html" class="logo">
        <div class="logo-icon">TD</div>
        <div>
          <div class="logo-text">Schema Generator</div>
          <div class="logo-subtitle">Structured Data Markup</div>
        </div>
      </a>
      <nav class="nav-links">
        <a href="../index.html" class="nav-link">Dashboard</a>
        <a href="title-checker.html" class="nav-link">Title Checker</a>
        <a href="meta-checker.html" class="nav-link">Meta Checker</a>
        <a href="schema-generator.html" class="nav-link active">Schema</a>
        <a href="competitor-tracker.html" class="nav-link">Rankings</a>
      </nav>
      <button class="theme-toggle" onclick="toggleTheme()">
        <span id="theme-icon">&#9790;</span>
      </button>
    </div>
  </header>

  <main class="container">
    <!-- Schema Type Selection -->
    <section class="card mb-4 fade-in">
      <div class="card-header">
        <h2 class="card-title">&#128736; Select Schema Type</h2>
      </div>
      <div class="card-body">
        <div class="grid grid-4">
          <button class="btn btn-outline schema-type-btn active" onclick="selectSchemaType('localBusiness')">
            LocalBusiness
          </button>
          <button class="btn btn-outline schema-type-btn" onclick="selectSchemaType('realEstateAgent')">
            RealEstateAgent
          </button>
          <button class="btn btn-outline schema-type-btn" onclick="selectSchemaType('faqPage')">
            FAQPage
          </button>
          <button class="btn btn-outline schema-type-btn" onclick="selectSchemaType('article')">
            Article
          </button>
          <button class="btn btn-outline schema-type-btn" onclick="selectSchemaType('service')">
            Service
          </button>
          <button class="btn btn-outline schema-type-btn" onclick="selectSchemaType('review')">
            Review
          </button>
          <button class="btn btn-outline schema-type-btn" onclick="selectSchemaType('breadcrumb')">
            Breadcrumb
          </button>
          <button class="btn btn-outline schema-type-btn" onclick="selectSchemaType('organization')">
            Organization
          </button>
        </div>
      </div>
    </section>

    <!-- Form Sections (one for each schema type) -->
    <!-- LocalBusiness Form -->
    <section class="card mb-4 fade-in schema-form" id="localBusiness-form">
      <div class="card-header">
        <h2 class="card-title">&#127970; LocalBusiness Schema</h2>
      </div>
      <div class="card-body">
        <div class="grid grid-2">
          <div class="form-group">
            <label class="form-label">Business Name</label>
            <input type="text" class="form-input" id="lb-name" value="TD Realty Ohio, LLC" oninput="generateSchema()">
          </div>
          <div class="form-group">
            <label class="form-label">Business Type</label>
            <select class="form-select" id="lb-type" onchange="generateSchema()">
              <option value="RealEstateAgent">Real Estate Agent</option>
              <option value="RealEstateBroker">Real Estate Broker</option>
              <option value="LocalBusiness">Local Business</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Street Address</label>
            <input type="text" class="form-input" id="lb-street" placeholder="123 Main St" oninput="generateSchema()">
          </div>
          <div class="form-group">
            <label class="form-label">City</label>
            <input type="text" class="form-input" id="lb-city" value="Columbus" oninput="generateSchema()">
          </div>
          <div class="form-group">
            <label class="form-label">State</label>
            <input type="text" class="form-input" id="lb-state" value="OH" oninput="generateSchema()">
          </div>
          <div class="form-group">
            <label class="form-label">ZIP Code</label>
            <input type="text" class="form-input" id="lb-zip" placeholder="43215" oninput="generateSchema()">
          </div>
          <div class="form-group">
            <label class="form-label">Phone</label>
            <input type="text" class="form-input" id="lb-phone" placeholder="(614) 555-1234" oninput="generateSchema()">
          </div>
          <div class="form-group">
            <label class="form-label">Website URL</label>
            <input type="text" class="form-input" id="lb-url" value="https://tdrealtyohio.com" oninput="generateSchema()">
          </div>
          <div class="form-group">
            <label class="form-label">Price Range</label>
            <input type="text" class="form-input" id="lb-price" value="1-2% commission" oninput="generateSchema()">
          </div>
          <div class="form-group">
            <label class="form-label">Areas Served (comma-separated)</label>
            <input type="text" class="form-input" id="lb-areas" value="Columbus, Westerville, Dublin, Gahanna, Powell" oninput="generateSchema()">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">Description</label>
          <textarea class="form-textarea" id="lb-description" rows="3" oninput="generateSchema()">TD Realty Ohio offers 1% listing commission in Columbus and Central Ohio. Full-service real estate with FREE pre-listing inspection and 1% cashback for first-time buyers.</textarea>
        </div>
      </div>
    </section>

    <!-- FAQ Form -->
    <section class="card mb-4 fade-in schema-form" id="faqPage-form" style="display: none;">
      <div class="card-header">
        <h2 class="card-title">&#10067; FAQPage Schema</h2>
        <button class="btn btn-sm btn-secondary" onclick="addFaqItem()">+ Add Question</button>
      </div>
      <div class="card-body">
        <div id="faq-items">
          <div class="faq-item-form mb-3" style="background: var(--bg-tertiary); padding: 1rem; border-radius: var(--radius-md);">
            <div class="form-group">
              <label class="form-label">Question 1</label>
              <input type="text" class="form-input faq-question" value="What is a 1% commission realtor?" oninput="generateSchema()">
            </div>
            <div class="form-group">
              <label class="form-label">Answer</label>
              <textarea class="form-textarea faq-answer" rows="2" oninput="generateSchema()">A 1% commission realtor charges only 1% of the home sale price as their listing fee, compared to the traditional 2.5-3%. TD Realty Ohio offers this rate when you buy and sell with us.</textarea>
            </div>
          </div>
          <div class="faq-item-form mb-3" style="background: var(--bg-tertiary); padding: 1rem; border-radius: var(--radius-md);">
            <div class="form-group">
              <label class="form-label">Question 2</label>
              <input type="text" class="form-input faq-question" value="How much can I save with TD Realty?" oninput="generateSchema()">
            </div>
            <div class="form-group">
              <label class="form-label">Answer</label>
              <textarea class="form-textarea faq-answer" rows="2" oninput="generateSchema()">On a $400,000 home, you could save $8,000 or more compared to a traditional 3% listing commission. Our 1% rate (when buying and selling) or 2% rate (sell only) puts more money in your pocket.</textarea>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Article Form -->
    <section class="card mb-4 fade-in schema-form" id="article-form" style="display: none;">
      <div class="card-header">
        <h2 class="card-title">&#128221; Article Schema</h2>
      </div>
      <div class="card-body">
        <div class="grid grid-2">
          <div class="form-group">
            <label class="form-label">Article Title</label>
            <input type="text" class="form-input" id="art-title" placeholder="Your article headline" oninput="generateSchema()">
          </div>
          <div class="form-group">
            <label class="form-label">Author Name</label>
            <input type="text" class="form-input" id="art-author" value="Travis Riddle" oninput="generateSchema()">
          </div>
          <div class="form-group">
            <label class="form-label">Date Published</label>
            <input type="date" class="form-input" id="art-published" oninput="generateSchema()">
          </div>
          <div class="form-group">
            <label class="form-label">Date Modified</label>
            <input type="date" class="form-input" id="art-modified" oninput="generateSchema()">
          </div>
          <div class="form-group" style="grid-column: span 2;">
            <label class="form-label">Article Description</label>
            <textarea class="form-textarea" id="art-description" rows="2" placeholder="Brief summary of the article" oninput="generateSchema()"></textarea>
          </div>
          <div class="form-group">
            <label class="form-label">Image URL</label>
            <input type="text" class="form-input" id="art-image" placeholder="https://tdrealtyohio.com/images/..." oninput="generateSchema()">
          </div>
          <div class="form-group">
            <label class="form-label">Article URL</label>
            <input type="text" class="form-input" id="art-url" placeholder="https://tdrealtyohio.com/blog/..." oninput="generateSchema()">
          </div>
        </div>
      </div>
    </section>

    <!-- Other forms would follow similar patterns -->
    <section class="card mb-4 fade-in schema-form" id="realEstateAgent-form" style="display: none;">
      <div class="card-body">
        <p class="text-muted">Uses the same fields as LocalBusiness with type set to RealEstateAgent.</p>
      </div>
    </section>

    <section class="card mb-4 fade-in schema-form" id="service-form" style="display: none;">
      <div class="card-header">
        <h2 class="card-title">&#128188; Service Schema</h2>
      </div>
      <div class="card-body">
        <div class="grid grid-2">
          <div class="form-group">
            <label class="form-label">Service Name</label>
            <input type="text" class="form-input" id="svc-name" value="1% Listing Commission" oninput="generateSchema()">
          </div>
          <div class="form-group">
            <label class="form-label">Provider</label>
            <input type="text" class="form-input" id="svc-provider" value="TD Realty Ohio, LLC" oninput="generateSchema()">
          </div>
          <div class="form-group" style="grid-column: span 2;">
            <label class="form-label">Description</label>
            <textarea class="form-textarea" id="svc-description" rows="3" oninput="generateSchema()">Full-service real estate listing for just 1% commission when you buy and sell with TD Realty Ohio. Includes MLS listing, professional photography, marketing, and negotiations.</textarea>
          </div>
          <div class="form-group">
            <label class="form-label">Area Served</label>
            <input type="text" class="form-input" id="svc-area" value="Columbus, Ohio" oninput="generateSchema()">
          </div>
          <div class="form-group">
            <label class="form-label">Service URL</label>
            <input type="text" class="form-input" id="svc-url" value="https://tdrealtyohio.com/sellers" oninput="generateSchema()">
          </div>
        </div>
      </div>
    </section>

    <!-- Generated Output -->
    <section class="card fade-in">
      <div class="card-header">
        <h2 class="card-title">&#128196; Generated Schema (JSON-LD)</h2>
        <button class="btn btn-primary" onclick="copySchema()">Copy to Clipboard</button>
      </div>
      <div class="card-body">
        <p class="text-sm text-muted mb-3">Add this JSON-LD script to your page's &lt;head&gt; section:</p>
        <div class="code-output" id="schema-output">
          <!-- Schema will be generated here -->
        </div>
      </div>
      <div class="card-footer">
        <div class="flex gap-2 flex-wrap">
          <a href="https://search.google.com/test/rich-results" target="_blank" class="btn btn-outline btn-sm">
            Test with Google Rich Results
          </a>
          <a href="https://validator.schema.org/" target="_blank" class="btn btn-outline btn-sm">
            Validate at Schema.org
          </a>
        </div>
      </div>
    </section>
  </main>

  <script src="../js/app.js"></script>
  <script>
    let currentSchemaType = 'localBusiness';

    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('theme-icon').innerHTML = TDR.ThemeManager.isDark() ? '&#9788;' : '&#9790;';
      // Set default dates for article
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('art-published').value = today;
      document.getElementById('art-modified').value = today;
      generateSchema();
    });

    function selectSchemaType(type) {
      currentSchemaType = type;

      // Update button states
      document.querySelectorAll('.schema-type-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');

      // Show/hide forms
      document.querySelectorAll('.schema-form').forEach(form => form.style.display = 'none');
      const form = document.getElementById(`${type}-form`);
      if (form) form.style.display = 'block';

      // For realEstateAgent, show localBusiness form
      if (type === 'realEstateAgent') {
        document.getElementById('localBusiness-form').style.display = 'block';
        document.getElementById('lb-type').value = 'RealEstateAgent';
      }

      generateSchema();
    }

    function generateSchema() {
      let schema;

      switch(currentSchemaType) {
        case 'localBusiness':
        case 'realEstateAgent':
          schema = generateLocalBusinessSchema();
          break;
        case 'faqPage':
          schema = generateFaqSchema();
          break;
        case 'article':
          schema = generateArticleSchema();
          break;
        case 'service':
          schema = generateServiceSchema();
          break;
        default:
          schema = { "@context": "https://schema.org", "@type": currentSchemaType };
      }

      const output = `<script type="application/ld+json">
${JSON.stringify(schema, null, 2)}
<\/script>`;

      document.getElementById('schema-output').textContent = output;
    }

    function generateLocalBusinessSchema() {
      const areas = document.getElementById('lb-areas').value.split(',').map(a => a.trim());

      return {
        "@context": "https://schema.org",
        "@type": document.getElementById('lb-type').value,
        "name": document.getElementById('lb-name').value,
        "description": document.getElementById('lb-description').value,
        "url": document.getElementById('lb-url').value,
        "telephone": document.getElementById('lb-phone').value || undefined,
        "address": {
          "@type": "PostalAddress",
          "streetAddress": document.getElementById('lb-street').value || undefined,
          "addressLocality": document.getElementById('lb-city').value,
          "addressRegion": document.getElementById('lb-state').value,
          "postalCode": document.getElementById('lb-zip').value || undefined,
          "addressCountry": "US"
        },
        "priceRange": document.getElementById('lb-price').value,
        "areaServed": areas.map(area => ({
          "@type": "City",
          "name": area
        })),
        "founder": {
          "@type": "Person",
          "name": "Travis Riddle",
          "jobTitle": "Broker"
        },
        "foundingDate": "2017",
        "sameAs": [
          "https://www.facebook.com/tdrealtyohio",
          "https://www.instagram.com/tdrealtyohio"
        ]
      };
    }

    function generateFaqSchema() {
      const questions = document.querySelectorAll('.faq-question');
      const answers = document.querySelectorAll('.faq-answer');
      const mainEntity = [];

      questions.forEach((q, i) => {
        if (q.value && answers[i].value) {
          mainEntity.push({
            "@type": "Question",
            "name": q.value,
            "acceptedAnswer": {
              "@type": "Answer",
              "text": answers[i].value
            }
          });
        }
      });

      return {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": mainEntity
      };
    }

    function generateArticleSchema() {
      return {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": document.getElementById('art-title').value,
        "description": document.getElementById('art-description').value,
        "image": document.getElementById('art-image').value || undefined,
        "author": {
          "@type": "Person",
          "name": document.getElementById('art-author').value,
          "jobTitle": "Broker",
          "worksFor": {
            "@type": "RealEstateAgent",
            "name": "TD Realty Ohio, LLC"
          }
        },
        "publisher": {
          "@type": "Organization",
          "name": "TD Realty Ohio, LLC",
          "url": "https://tdrealtyohio.com"
        },
        "datePublished": document.getElementById('art-published').value,
        "dateModified": document.getElementById('art-modified').value,
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": document.getElementById('art-url').value
        }
      };
    }

    function generateServiceSchema() {
      return {
        "@context": "https://schema.org",
        "@type": "Service",
        "name": document.getElementById('svc-name').value,
        "description": document.getElementById('svc-description').value,
        "provider": {
          "@type": "RealEstateAgent",
          "name": document.getElementById('svc-provider').value,
          "url": "https://tdrealtyohio.com"
        },
        "areaServed": {
          "@type": "City",
          "name": document.getElementById('svc-area').value
        },
        "url": document.getElementById('svc-url').value
      };
    }

    function addFaqItem() {
      const container = document.getElementById('faq-items');
      const count = container.children.length + 1;
      const div = document.createElement('div');
      div.className = 'faq-item-form mb-3';
      div.style.cssText = 'background: var(--bg-tertiary); padding: 1rem; border-radius: var(--radius-md);';
      div.innerHTML = `
        <div class="form-group">
          <label class="form-label">Question ${count}</label>
          <input type="text" class="form-input faq-question" placeholder="Enter question" oninput="generateSchema()">
        </div>
        <div class="form-group">
          <label class="form-label">Answer</label>
          <textarea class="form-textarea faq-answer" rows="2" placeholder="Enter answer" oninput="generateSchema()"></textarea>
        </div>
      `;
      container.appendChild(div);
    }

    function copySchema() {
      const output = document.getElementById('schema-output').textContent;
      navigator.clipboard.writeText(output).then(() => {
        alert('Schema copied to clipboard!');
      });
    }

    function toggleTheme() {
      TDR.ThemeManager.toggle();
      document.getElementById('theme-icon').innerHTML = TDR.ThemeManager.isDark() ? '&#9788;' : '&#9790;';
    }
  </script>
</body>
</html>
